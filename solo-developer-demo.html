<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TPT Asset Editor - Solo Developer Demo</title>
    <link rel="stylesheet" href="src/ui/solo-developer-interface.css">
</head>
<body>
    <div id="app"></div>

    <script>
        // Mock Electron API for demo purposes
        if (typeof window.require === 'undefined') {
            window.require = function() {
                return {
                    app: {
                        getPath: () => '/mock/path'
                    }
                };
            };
        }

        // Mock WebSocket for demo
        if (typeof WebSocket === 'undefined') {
            window.WebSocket = class MockWebSocket {
                constructor() {
                    this.readyState = 1;
                    setTimeout(() => {
                        if (this.onopen) this.onopen();
                    }, 100);
                }
                send() {}
                close() {}
            };
        }

        // Mock fetch for demo
        if (typeof fetch === 'undefined') {
            window.fetch = async () => ({
                ok: true,
                json: async () => ({ success: true, data: {} })
            });
        }
    </script>

    <script src="src/core/asset-workflow-manager.js"></script>
    <script src="src/ui/solo-developer-interface.js"></script>

    <script>
        // Initialize the solo developer interface
        document.addEventListener('DOMContentLoaded', async () => {
            const container = document.getElementById('app');

            try {
                // Create and initialize the interface
                const interface = new SoloDeveloperInterface(container);

                // Wait for initialization
                await interface.init();

                console.log('üéÆ TPT Asset Editor Solo Developer Interface Ready!');
                console.log('Available features:');
                console.log('‚Ä¢ Quick asset generation with presets');
                console.log('‚Ä¢ Asset pack generation (characters, monsters, items, tiles)');
                console.log('‚Ä¢ Project management and organization');
                console.log('‚Ä¢ Export to Unity, Godot, GameMaker, Phaser');
                console.log('‚Ä¢ Asset search and filtering');
                console.log('‚Ä¢ Real-time statistics and activity tracking');

                // Make interface globally available for debugging
                window.tptInterface = interface;

            } catch (error) {
                console.error('Failed to initialize interface:', error);
                container.innerHTML = `
                    <div style="padding: 2rem; text-align: center; color: #ff6b6b;">
                        <h2>‚ùå Initialization Failed</h2>
                        <p>${error.message}</p>
                        <p>Check the console for more details.</p>
                    </div>
                `;
            }
        });

        // Demo helper functions
        window.demoFunctions = {
            // Quick start guide
            showQuickStart: () => {
                console.log(`
üéÆ TPT ASSET EDITOR - SOLO DEVELOPER QUICK START
================================================

1. CREATE PROJECT:
   - Click "New Project"
   - Enter project name (e.g., "My RPG Game")
   - Select game type (action-rpg, platformer, etc.)

2. GENERATE ASSETS:
   - Go to "Quick Generate" tab
   - Click on preset cards (Warrior, Mage, Goblin, etc.)
   - Assets are automatically saved to your project

3. CREATE ASSET PACKS:
   - Go to "Asset Packs" tab
   - Choose from Character Sets, Monster Packs, Item Collections
   - Generate complete sets with one click

4. MANAGE ASSETS:
   - Go to "My Assets" tab
   - View all generated assets
   - Filter by category (characters, monsters, items, tiles)
   - Search assets by name

5. EXPORT FOR GAME ENGINES:
   - Go to "Export" tab
   - Choose target engine (Unity, Godot, GameMaker, Phaser)
   - Click "Export" - assets are formatted and ready to import

AVAILABLE PRESETS:
‚Ä¢ Characters: Warrior, Mage, Rogue
‚Ä¢ Monsters: Goblin, Orc, Skeleton
‚Ä¢ Items: Sword, Shield, Potion
‚Ä¢ Tiles: Grass, Stone, Water

ASSET PACKS:
‚Ä¢ Character Set (8 assets): Complete party of heroes
‚Ä¢ Monster Pack (8 assets): Various enemy types and sizes
‚Ä¢ Item Collection (15 assets): Weapons, armor, consumables
‚Ä¢ Tile Set (20 assets): Environment tiles with variations

GAME ENGINE SUPPORT:
‚Ä¢ Unity: PNG sprites with .meta files
‚Ä¢ Godot: PNG sprites with resource files
‚Ä¢ GameMaker: PNG sprites for sprite strips
‚Ä¢ Phaser: PNG sprites with JavaScript loader
‚Ä¢ Generic: PNG sprites with JSON manifest

TIPS FOR SOLO DEVELOPERS:
‚Ä¢ Start with Quick Generate for immediate assets
‚Ä¢ Use Asset Packs for complete game-ready sets
‚Ä¢ Export early and often to test in your game engine
‚Ä¢ Use the Dashboard to track your progress
‚Ä¢ Filter and search to find assets quickly

Happy game developing! üöÄ
                `);
            },

            // Generate sample project
            generateSampleProject: async () => {
                if (!window.tptInterface) return;

                console.log('üéÆ Generating sample project...');

                try {
                    // Create project
                    const project = await window.tptInterface.getWorkflowManager().createProject({
                        name: 'Sample RPG Project',
                        gameType: 'action-rpg'
                    });

                    console.log('‚úÖ Project created:', project.name);

                    // Generate some assets
                    const assets = [
                        { type: 'character', preset: 'warrior' },
                        { type: 'character', preset: 'mage' },
                        { type: 'monster', preset: 'goblin' },
                        { type: 'item', preset: 'sword' },
                        { type: 'tile', preset: 'grass' }
                    ];

                    for (const asset of assets) {
                        await window.tptInterface.generateFromPreset(asset.type, asset.preset);
                        console.log(`‚úÖ Generated ${asset.type}: ${asset.preset}`);
                    }

                    console.log('üéâ Sample project ready! Check the "My Assets" tab.');

                } catch (error) {
                    console.error('‚ùå Failed to generate sample project:', error);
                }
            },

            // Show available generators
            showGenerators: () => {
                console.log(`
üé® AVAILABLE ASSET GENERATORS
=============================

SPRITE GENERATORS:
‚Ä¢ Character Generator - Warriors, Mages, Rogues with equipment
‚Ä¢ Monster Generator - Goblins, Orcs, Skeletons, Slimes
‚Ä¢ Item Generator - Weapons, Armor, Consumables, Tools
‚Ä¢ Tile Generator - Grass, Stone, Water, Wood tiles
‚Ä¢ Environment Generator - Trees, Rocks, Buildings
‚Ä¢ UI Generator - Buttons, Panels, Progress Bars

AUDIO GENERATORS:
‚Ä¢ Audio Generator - Sound effects and music
‚Ä¢ Effect Synthesizer - Procedural audio effects
‚Ä¢ Music Composer - Background music generation

LEVEL GENERATORS:
‚Ä¢ Level Generator - Complete level layouts
‚Ä¢ Building Placer - Procedural building placement
‚Ä¢ Environment Composer - Terrain and decoration

SPECIALIZED GENERATORS:
‚Ä¢ Pixel Art Generator - Retro-style sprites
‚Ä¢ Particle Generator - Effects and animations
‚Ä¢ Animation System - Sprite animations
‚Ä¢ Quality Enhancer - AI-powered improvements

USAGE EXAMPLES:
‚Ä¢ Generate hero: generateFromPreset('character', 'warrior')
‚Ä¢ Generate enemies: generateAssetPack('monster-pack')
‚Ä¢ Generate world: generateAssetPack('tile-set')
‚Ä¢ Export to Unity: exportForEngine('unity')
                `);
            }
        };

        // Auto-show quick start after 2 seconds
        setTimeout(() => {
            if (window.demoFunctions) {
                window.demoFunctions.showQuickStart();
            }
        }, 2000);
    </script>
</body>
</html>
